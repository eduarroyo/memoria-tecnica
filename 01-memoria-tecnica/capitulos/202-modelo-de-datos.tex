\chapter{Modelo de datos}
En este capítulo se estudiará la estructura de datos del sistema mediante un \textit{Modelo Entidad-Interrelación} (E-R).
Primero se identificarán y detallarán los tipos de entidad, luego los tipos de interrelación y finalmente se sintetizará todo el modelo en un diagrama E-R.

\section {Análisis de los tipos de entidad}
En este apartado se definirán y describirán los tipos de entidad encontrados. 

\subsection{Aplicaciones}
\subsubsection*{Descripción}
Almacena los datos sobre cada app asociada al sistema.
\subsubsection*{Restricciones}
No habrá aplicaciones con el mismo nombre ni el mismo subdominio.
\subsubsection*{Características}
\begin{description}[nosep,style=multiline,labelindent=0.8cm,leftmargin=5.5cm,font=\normalfont]
    \item[Nombre] Aplicaciones
    \item[Identificador principal] AplicacionID
    \item[Atributos heredados] LogotipoID (Documentos.DocumentoID)
    \item[Identificador alternativo] Subdominio
\end{description}

\subsubsection*{Atributos de la entidad}

\begin{table}[ht]
    \rowcolors{2}{gray!25}{white}
    \resizebox{\textwidth}{!}{%
    \begin{tabular}{|lcp{2.8cm}cp{5cm}|}
        \hline
        \rowcolor[HTML]{9B9B9B}
        \multicolumn{1}{|l}{\cellcolor[HTML]{9B9B9B}{\color[HTML]{FFFFFF} Atributo}} & 
        \multicolumn{1}{c}{\cellcolor[HTML]{9B9B9B}{\color[HTML]{FFFFFF} Tipo}} &
        \multicolumn{1}{c}{\cellcolor[HTML]{9B9B9B}{\color[HTML]{FFFFFF} Dominio}} &
        \multicolumn{1}{c}{\cellcolor[HTML]{9B9B9B}{\color[HTML]{FFFFFF} Opcional}} &
        \multicolumn{1}{c|}{\cellcolor[HTML]{9B9B9B}{\color[HTML]{FFFFFF} Descripción}} \\
        AplicacionID & Clave & N\textsuperscript{os} Naturales & \xmark & Identificador de aplicación \\
        Nombre & - & Alfanumérico & \cmark & Nombre de la aplicación \\
        Versión & - & Alfanumérico & \cmark & Versión de la aplicación \\
        CloudKey & - & Alfanumérico & \cmark & APIKEY del servicio de mensajería PUSH \\
        Usuario & - & Alfanumérico & \cmark & Usuario del servicio de mensajería PUSH \\
        Clave & - & Alfanumérico & \cmark & Contraseña del servicio de mensajería PUSH \\
        SubDominio & - & Alfanumérico & \cmark & Subdominio de la aplicación \\
        ClaveSuscripcion & - & Alfanumérico & \cmark & Clave para lectores en aplicaciones  \\
        RequerirClaveSuscripcion & - & Alfanumérico & \cmark & Nombre de la aplicación \\
        LogotipoID & - & Alfanumérico & \cmark & Nombre de la aplicación \\
        Tipo & - & Alfanumérico & \cmark & Nombre de la aplicación \\
        ApiKey & - & Alfanumérico & \cmark & Clave de seguridad de la API.\\
        PlayStoreUrl & - & Alfanumérico & \cmark & Url de la aplicación en la PlayStore \\
        AppStoreUrl & - & Alfanumérico & \cmark & Url de la aplicación en la AppStore. \\
        ApiKeyExternos & - & Alfanumérico & \cmark & Clave de seguridad de la api para clientes de terceros. \\
        PermitirAccesoApiExternos & - & Alfanumérico & \cmark & Activa/Desactiva la API para clientes de terceros. \\
        \hline
    \end{tabular}}
    \caption{Atributos del tipo de entidad Aplicaciones}
    \label{cuadro:atributos-tipo-entidad-aplicaciones}
\end{table} 

\begin{table}[ht]
    \rowcolors{2}{gray!25}{white}\centering
    \begin{tabular}{|ll|}
        \hline
        \rowcolor[HTML]{9B9B9B} 
        \multicolumn{1}{|c}{\cellcolor[HTML]{9B9B9B}{\color[HTML]{FFFFFF} Atributo}} & \multicolumn{1}{c|}{\cellcolor[HTML]{9B9B9B}{\color[HTML]{FFFFFF} Valor}} \\ \hline
        AplicacionID & 1 \\
        Nombre & `Escuela Politécnica Superior de Córdoba' \\
        Version & `1.0.0.0' \\
        Activo & 1 \\
        CloudKey & NULL \\
        SubDominio & `epsc' \\
        Usuario & NULL \\
        Clave & NULL \\
        ClaveSuscripcion & NULL \\
        RequerirClaveSuscripcion & 0 \\
        LogotipoID & 8 \\
        ApiKey & `AIzaSyCqhjgrPTPSOFyLyos5gfN47TJ0HnNA\_LA' \\
        PlayStoreURL & `https://play.google.com/\dots?id=com.pushnews.epsc' \\
        iTunesUrl & `https://apps.apple.com/\dots/pushnews-epsc' \\
        ApiKeyExternos & `' \\
        PermitirAccesoApiExternos & 0 \\ \hline
    \end{tabular}
    \caption{Ejemplo de registro de tipo Aplicación}
    \label{cuadro:ejemplo-aplicacion}
\end{table}

\subsection{Usuarios}

\subsection{Comunicaciones}

\subsection{Categorías}

\subsection{Características}

\subsection{Terminales}

\subsection{Accesos}


\section {Análisis de los tipos de interrelación}

\subsection{Aplicación-Característica}

\subsection{Aplicación-Usuario}

\subsection{Aplicación-Categoría}

\subsection{Aplicación-Terminal}

\subsection{Categoría-Comunicación}

\subsection{Comunicaciones-Accesos-Terminales}

\section{Modelo Entidad-Interrelación}
